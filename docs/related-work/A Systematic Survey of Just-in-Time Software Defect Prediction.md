---
title: A Systematic Survey of Just-in-Time Software Defect Prediction
---
## アブストラクト
- 近年、ソフトウェア欠陥の発生確率を予測することを目的としたソフトウェア欠陥予測に関する県空が継続的に行われている
- さらに、継続的デプロイメントへの関心の高まりに伴い、ソフトウェア欠陥予測の一種であるJust-in-Time Software Defect Prediction（JIT-SDP）は、段階的なソフトウェア変更のそれぞれに欠陥があるかどうかを予測することに重点を置いている
- 本研究では、JIT-SDPに関する67件の研究を体系的に調査し、研究者がJIT-SDPの最先端技術を発展させ、実務家が最新の進歩を把握できるよう支援することを目的としている
- JIT-SDPのワークフローの各フェーズにおけるベストプラクティスをまとめ、先行研究のメタ分析を実施し、今後の研究の方向性を提案
- JIT-SDP研究のメタ分析では、予測性能が変更欠陥率と相関関係にあることが示され、JIT-SDPは比較的欠陥率の高いプロジェクトで最も優れたパフォーマンスを発揮することが示唆された
- JIT-SDPの今後の方向性としては、各手法をそれぞれの適用分野に位置付ける、信頼性を考慮したJIT-SDP、ユーザー中心のJIT-SDPなどが挙げられる
## はじめに
- ソフトウェア欠陥予測（SDP）は、ソフトウェア成果物、特に粒度の異なるソースコード要素（メソッド、クラス、ファイル、コンポーネントなど）における欠陥の発生確率を予測することを目的としている
- SDPは予測される欠陥発生確率を知ることでソフトウェアの品質向上とコスト削減につながるため、研究者や業界関係者の間で長年関心を集めて北
- 現代のソフトウェア開発は協調的でアジャイルであり、継続的デリバリーや継続的デプロイメントといった、ソフトウェアをより迅速かつ高頻度に構築、修正、リリースすることが人気を集めている
- このトレンドの高まりを受けて、近年、SDPの新しい領域であるジャストインタイムソフトウェア欠陥予測（JIT-SDP）の活動が活発化している
	- これは、各ソフトウェア変更における欠陥の発生確率を予測することを目的としている
- 本調査の目的
	- 研究者がJIT-SDPワークフローの様々な段階における典型的な懸念事項と現在の手法について包括的な理解を深め、この分野に参入する研究者が迅速に理解を深められるようにすること
	- 研究者がこの分野における今後の研究のギャップと機会を特定できるようにすること
	- 実務家がQAニーズに合わせてJIT-SDPモデルを洗濯、調整できるようにすること
## レビュー方法
### JIT-SDP調査のための研究論文の特定
- 2000年から2021年11月までにジャーナルや会議の議事録に掲載された英語の査読済み研究論文が対象
- ソフトウェアの変更のレベルやサブレベルでの予測を行うJIT-SDPの予測モデルを研究した論文のみを含める
- デジタルライブラリのキーワード検索
	- 研究者はJIT-SDPを様々な用語で呼んでいる
	- Kameiらは「ジャストインタイム」ソフトウェアQAと呼んだ
	- Jiangらは「変更レベル」の欠陥予測と呼んだ
	- その他のJIT-SDPのキーワードとしては、defect、fault、bug、error、failure、exceptionがある
	- これらのキーワードを用いて定式化された検索クエリを作成
	- このクエリを使用して記事のタイトル、要約、メタデータに出現するキーワードをデジタルライブラリで検索
## ジャストインタイムソフトウェア欠陥予測
- ソフトウェア障害は観察できるソフトウェアのご動作であるが、欠陥が必ずしも障害につながる訳ではない
- SDPはソフトウェアのソースコード内にあるバグの存在を予測することを目的としている
### JIT-SDPの定義と概要
- これまでの研究の大部分は、SDPがプロジェクトのリリーススケジュールに厳密に従うこと、つまり、過去のリリースからソフトウェアのスナップショットと欠陥を活用して、様々な粒度のソフトウェアモジュール（パッケージ、ファイル、クラス、メソッド）の欠陥密度や欠陥の重大度などの欠陥関連の変数を予測することを前提としていた
	- この種類のSDPを「Release SDP」と呼ぶ
- Release SDPの最近の代替手段は、ソフトウェアの変更履歴を活用して、リポジトリにコミットされるとすぐに（ジャストインタイム）、欠陥を誘発する可能性のあるソフトウェアの変更を予測すること
	- この種類のSDPを「JIT-SDP」と呼ぶ
- 開発者は通常、全てのソフトウェアの変更をソースコード管理（SCM）システムやバージョン管理システム（VCS）へのコミットとして記録
- JIT-SDPの利点
	- ソフトウェアの変更セットが小さく、それぞれに説明的なログメッセージがある
	- 各変更には単一のコミッターが割り当てられるため、変更に関するQA活動を実施するための専門知識を持つ人材を見つけやすくなる
	- 開発者は、SCMにコミットする際に、バグを誘発する可能性がある自分の潜在的なソフトウェア変更を迅速に調査できる
		- このときに、開発者は最近の変更について新鮮な記憶を持っている可能性が高いため、認知負荷が軽減される
- JIT-SDPのワークフロー
	- モデルを構築するために様々なデータソースを活用
		- 例: ソフトウェアコードの変更、イシューレポート、コミットメッセージ
	- データを生の特徴量に変換
	- 生の特徴量をモデル構築にすぐに使用できる特徴量に変換（前処理）
	- モデルを構築して評価
### データソース
#### ソフトウェアの変更履歴と変更セット
- ソフトウェアの変更（チェンジセット）とは、GitなどのSCMにおけるソフトウェアの2つのリビジョン間の差分のこと
#### コミットメッセージ
- ほとんどのSCMでは、開発者がコミットログメッセージを入力することで、コミットされた変更の性質を簡潔に記述することが求められる
#### ITS（Issue Tracking System）データ
- プロジェクトのITSデータは、変更セットとバグを報告するイシューの関係を構築するのに役立つ
- JIT-SDPにおけるバグ予測に直接利用されることは稀
#### 静的プログラム分析の警告メッセージ
- lintなどの静的プログラム分析ツールによって生成される警告メッセージも、稀ではあるがJIT-SDPモデルを構築するための情報のデータソースとして使用されることがある
### 特徴の取得と処理
- データをJIT-SDPモデルで使用できる形式に変換
- JIT-SDPモデルを構築するために使用する独立変数とその抽出方法
	- 独立変数
		- 差分: 変更がどのように変化しているか
		- 目的: 変更の目的
		- サイズ: 変化の大きさ
		- 履歴: 変更履歴
		- 経験: 開発者の経験
		- コードチャーン: コード変更の大きさ
		- 変更の文脈: コードの変更箇所の内容
		- インデント: 変更のインデント数
		- ファイルレベルのプロセスメトリクス: ファイルレベルの変更特性
		- コミットメッセージ: コミットメッセージを特徴付ける特徴
		- ITSの機能: イシュー報告から実際のコード変更までに行われる議論
		- 静的分析: 静的プログラム解析の警告メッセージ
	- 抽出方法
		- 特徴量学習
		- 特徴量エンジニアリング
#### ソフトウェア変更メトリクス
- ソフトウェア変更メトリクスは、コードから直接計算されるメトリクス
- カテゴリー
	- 差分
		- 変更されたサブシステムの数
		- 変更されたディレクトリの数
		- 変更されたファイルの数
		- 各ファイルにおける変更されたコードの分散
	- サイズ
		- 追加されたLOC
		- 削除されたLOC
		- 変更前のファイルのLOC
		- 変化の大きさ
	- 目的
		- 変更がバグ修正であるかどうか
	- 履歴
		- ファイルを変更した開発者の数
		- 変更されたファイルにおける一意な変更の数
		- 前回の変更と今回の変更の間の平均時間間隔
	- 経験
		- 開発者の経験
		- 最近の開発者の経験
		- サブシステムにおける開発者の経験
#### コミットメッセージの特徴
- コミットメッセージは自然言語テキストとして記述されるため、それを表す特徴量は通常、自然言語処理によって得られる
#### ITSデータの特徴
- ITSには自然言語テキストとメタデータの2種類のデータが含まれる
#### 静的プログラム分析のメトリクス
- Trautschらは、PMDとOpenStaticAnalyzarという2つのツールを用いて静的プログラム解析の警告メッセージを収集
#### 特徴表現
- アルゴリズムによって自動的に学習される特徴の種類を特徴表現と呼ぶ
### 欠陥を誘発するラベルの割り当て
- ソフトウェアの変更を、欠陥を誘発する変更かクリーンな変更かに分類するためには、ソフトウェアプロジェクトの変更履歴を調べる際に2段階のアプローチを取る
	- 1) 欠陥を修正する変更を特定
	- 2) ステップ1の欠陥を導入した以前の変更を特定
- Śliwerskiらは、欠陥修正のための変更に基づいて、欠陥を誘発する変更を自動的に特定するアルゴリズム（SZZアルゴリズム）を提案
## 引用情報
- 著者: Yunhua Zhao, Kostadin Damevski, Hui Chen
- タイトル: A Systematic Survey of Just-in-Time Software Defect Prediction
- 雑誌 / 会議名: ACM Computing Surveys
- 巻号: vol. 55
- 出版日: February 2023
- DOI: https://doi.org/10.1145/3567550
