---
title: A large-scale empirical study of just-in-time quality assurance
---
## アブストラクト
- 欠陥予測モデルは欠陥が発生しやすいファイルやパッケージを特定し、担当者が品質保証の取り組みを割り当てることができるよく知られた手法
- しかし、重要なファイルやパッケージが特定された後も、開発者はレビューやテストの対象となる関数やコードの断片を見つけるのにかなりの時間を費やす必要がある
	- そのため、このアプローチは時間がかかりすぎて大規模なソフトウェアシステムに対しては非現実的
- その代わりに、ファイルやパッケージではなく、欠陥が発生しやすいソフトウェアの変更を特定することに重点を置いた欠陥予測モデルを検討
- 開発者はこれらのリスクのある変更を記憶が新しいうちにレビューしたりテストしたりできるため、この種類の品質保証活動を「Just-In-Time Quality Assurance」と呼んでいる
- 変更リスクモデルを構築するために、追加された行数や開発者の経験など、ソフトウェア変更の特性に基づいて様々な要素を使用
- 複数の分野にわたる6つのオープンソースプロジェクトと5つの商用プロジェクトを対象とした大規模な調査の結果、モデルは変更が欠陥につながるかどうかを平均68%の正解率と平均64%の再現率で予測できることが示された
- さらに、変更のレビューに必要な労力を考慮すると、全ての変更を検査するのにかかる労力のわずか20%で欠陥を誘発する変更の35%を特定できることが分かった
- この結果は、「Just-In-Time Quality Assurance」が最もリスクの高い変更に集中するための労力削減方法となり、さらには高品質なソフトウェアの開発コストを削減できる可能性を示唆
## はじめに
- ソフトウェア品質保証活動は、高品質なソフトウェアを開発する上で重要な役割を果たす
- リリースされた製品に欠陥が存在すると、企業にとって大きな損失となり、企業の評判にも悪影響を及ぼす可能性がある
- 同時に、企業は利益を挙げつ必要があるため、保守活動のコストを最小限に抑える必要がある
- この課題に対処するため、ソフトウェア工学における多くの研究は、ソフトウェア品質保証活動の優先順位付けに焦点を当てている
- 品質保証研究の大部分は、欠陥が発生しやすいモジュールを特定する欠陥予測モデルに焦点を当てている
- このアプローチの欠点をまとめると、以下のようになる
	- 予測単位の粒度が大きい
	- 関連するQAの専門家が特定されていない
	- 予測が開発サイクルの遅い段階で行われる
- そのため、研究者たちは、欠陥を誘発する変更を予測することに焦点を当てて、変更レベルで予測を行うことを提案している
- 既存のアプローチとは対照的に、Just-In-Time Quality Assuranceは、開発者がコードを自分のプライベートワークスペースやチームのワークスペースにコミットするとすぐに実行できるため、より早い段階で継続的な品質管理を行うことを目指している
- 変更レベルの予測を行う主な利点は、次の通り
	- 予測単位の粒度が小さい
	- 変更によって生じたバグを修正するための開発者への具体的な作業割り当てとして予測を表現できる
	- 予測が開発サイクルの早い段階で行われる
- 複数の分野にわたる多様なオープンソースや商用のプロジェクトを対象に、変更レベル予測に関する実証研究を行った
- この複数ドメイン、複数企業のデータセットは、6つのオープンソースプロジェクトと5つの商用プロジェクトで構成され、25万件以上の変更を含み、最も人気のある2つのプログラミング言語（C/C++とJava）を網羅している
- リサーチクエスチョン
	- RQ1: 欠陥を誘発する変更をどの程度正確に予測できるか？
	- RQ2: 予測されるリスクに基づいて変更の優先順位を付けることによって、レビューの労力は軽減されるか？
	- RQ3: 欠陥を誘発する変更の主な特徴は何か？
## 背景と関連研究
### 長期的な品質保証
- 以前の研究では、McCabeの循環的複雑度、CKメトリクス、コード行数などのメトリクスが使用されていた
- 他の研究では、プロセスメトリクスを使用して欠陥が発生しやすい場所を予測
- Graveらは過去の欠陥数や開発者数などの変更履歴に基づくプロセスメトリクスを使用して、欠陥予測モデルを構築
- 彼らは、プロセスメトリクスがMcCabeの循環的複雑度などのメトリクスよりも優れた欠陥特徴であることを示した
- NagappanとBallはコード変更の量を測定する相対的なコードチャーンメトリクスを使用して、ファイルレベルの欠陥密度を予測
- Jiangらは、設計メトリクスとコードメトリクスを用いて障害が発生しやすいモジュールを予測する手法を比較し、コードベースのモデルが設計レベルのモデルよりも優れていることを明らかにした
- MoserらはEclipseプロジェクトにおいて、プロセスメトリクスが、欠陥が発生しやすいファイルの予測において少なくともコードメトリクスと同等の性能を発揮できることを示した
- Hassanは散発的な変更が、欠陥が発生しやすいファイrの優れた指標であることを示した
- 私たちはこれらの先行研究から得られた知見を活用し、コード変更から抽出した14の異なる要因を用いて、変更が欠陥を誘発するかどうかを予測
### 短期的な品質保証
- リスクの高いソフトウェア変更の予測に焦点を当てているものがある
- MockusとWeissは、産業プロジェクトにおけるソフトウェア変更のリスクを予測
	- 彼らは、変更されたサブシステムの数、変更されたファイルの数、追加されたコードの行数、変更要求の数などの変更の尺度を使用
- SliwerskiらはMozillaとEclipseのオープンソースプロジェクトにおける、欠陥を導入する変更について研究
	- 欠陥を導入する変更は一般に大規模なトランザクションの一部であり、欠陥を修正する変更や金曜日に行われた変更は欠陥を導入する可能性が高いことを発見
- YinらはLinux、OpenSolaris、FreeBSD、商用オペレーティングシステムにおける誤った欠陥修正を特徴付ける調査を行った
	- その結果、同時に存在する欠陥を正しく修正するのが最も難しいこと、不正確な修正を担当する開発者は通常、変更されるコードに関する十分な知識を持っていないことが判明


## 引用情報
- 著者: Yasutaka Kamei, Emad Shihab, Bram Adams, Ahmed E. Hassan, Audris Mockus, Anand Sinha
- タイトル: A large-scale empirical study of just-in-time quality assurance
- 雑誌 / 会議名: IEEE Transactions on Software Engineering
- 巻号: vol. 39
- ページ: pp. 757-773
- 出版日: June 2013
- DOI: https://doi.org/10.1109/TSE.2012.70
